(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6521:(e,t,r)=>{Promise.resolve().then(r.bind(r,9430))},9430:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var l=r(5155),n=r(2115),a=r(1956),s=r.n(a);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:u,iconNode:c,...m}=e;return(0,n.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:r,strokeWidth:s?24*Number(a)/Number(l):a,className:o("lucide",i),...m},[...c.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{className:a,...s}=r;return(0,n.createElement)(u,{ref:l,iconNode:t,className:o("lucide-".concat(i(e)),a),...s})});return r.displayName="".concat(e),r},m=c("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),p=c("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),f=c("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),h={volume:{ml:1,L:1e3,"fl oz":29.5735,ga:3785.41},weight:{g:1,kg:1e3,oz:28.3495,lb:453.592},count:{pc:1,dozen:12}},x={volume:["ml","L","fl oz","ga"],weight:["g","kg","oz","lb"],count:["pc","dozen"]},y=()=>{let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([{id:1,name:"",price:"",amount:"",unit:"ml",unitType:"volume"},{id:2,name:"",price:"",amount:"",unit:"ml",unitType:"volume"}]),[s,i]=(0,n.useState)([]),[o,d]=(0,n.useState)({});(0,n.useEffect)(()=>{t(!0);try{let e=window.localStorage.getItem("savedComparisons");e&&i(JSON.parse(e))}catch(e){console.error("Error loading saved comparisons:",e)}},[]);let u=(0,n.useCallback)((e,t,r)=>{let l=parseFloat(e);return isNaN(l)?0:l*h[r][t]},[]),c=(0,n.useMemo)(()=>{let e=r.map(e=>{if(!e.price||!e.amount)return null;let t=u(e.amount,e.unit,e.unitType),r=parseFloat(e.price);return 0===t||isNaN(r)?null:{...e,pricePerUnit:r/t}}).filter(Boolean);if(0===e.length)return{results:[],bestValue:null};let t=e.reduce((e,t)=>e.pricePerUnit<t.pricePerUnit?e:t);return{results:e.map(e=>({...e,percentageDiff:((e.pricePerUnit-t.pricePerUnit)/t.pricePerUnit*100).toFixed(2)})),bestValue:t}},[r,u]),y=(0,n.useCallback)((e,t,r)=>{a(l=>l.map(l=>{if(l.id!==e)return l;if("unitType"===t)return{...l,[t]:r,unit:x[r][0]};if("price"===t&&""!==r){if(!/^\$?\d*\.?\d*$/.test(r.replace("$","")))return l;r=r.replace("$","")}return{...l,[t]:r}})),d(t=>({...t,[e]:void 0}))},[]),g=(0,n.useCallback)(()=>{let e={};if(r.forEach(t=>{t.name&&t.price&&t.amount||(e[t.id]="All fields are required")}),Object.keys(e).length>0){d(e);return}try{let e={id:Date.now(),items:r,date:new Date().toLocaleString()};i(t=>{let r=[...t,e];return window.localStorage.setItem("savedComparisons",JSON.stringify(r)),r})}catch(e){console.error("Error saving comparison:",e)}},[r]),v=(0,n.useCallback)(e=>{a(e)},[]),b=(0,n.useCallback)(e=>{try{i(t=>{let r=t.filter(t=>t.id!==e);return window.localStorage.setItem("savedComparisons",JSON.stringify(r)),r})}catch(e){console.error("Error deleting comparison:",e)}},[]);return e?(0,l.jsxs)("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Price Comparison Calculator"}),(0,l.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,l.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow space-y-3",children:[(0,l.jsx)("input",{type:"text",placeholder:"Item name",value:e.name,onChange:t=>y(e.id,"name",t.target.value),className:"w-full p-2 border rounded"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Price ($)",value:e.price,onChange:t=>y(e.id,"price",t.target.value),className:"w-1/2 p-2 border rounded"}),(0,l.jsx)("input",{type:"number",placeholder:"Amount",value:e.amount,onChange:t=>y(e.id,"amount",t.target.value),className:"w-1/4 p-2 border rounded"}),(0,l.jsx)("select",{value:e.unitType,onChange:t=>y(e.id,"unitType",t.target.value),className:"w-1/4 p-2 border rounded",children:Object.keys(x).map(e=>(0,l.jsx)("option",{value:e,children:e},e))}),(0,l.jsx)("select",{value:e.unit,onChange:t=>y(e.id,"unit",t.target.value),className:"w-1/4 p-2 border rounded",children:x[e.unitType].map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),o[e.id]&&(0,l.jsxs)("div",{className:"flex items-center text-red-500 text-sm",children:[(0,l.jsx)(m,{className:"w-4 h-4 mr-1"}),o[e.id]]})]},e.id))}),c.results.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Results"}),c.results.map(e=>(0,l.jsxs)("div",{className:"p-4 rounded-lg ".concat(e.id===c.bestValue.id?"bg-green-100 border-green-500":"bg-white"," shadow"),children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:e.name}),(0,l.jsxs)("span",{children:["$",e.pricePerUnit.toFixed(4),"/",e.unit]})]}),e.id!==c.bestValue.id&&(0,l.jsxs)("div",{className:"text-sm text-red-500",children:[e.percentageDiff,"% more expensive"]})]},e.id))]}),(0,l.jsxs)("button",{onClick:g,className:"w-full p-2 bg-blue-500 text-white rounded-lg flex items-center justify-center space-x-2 hover:bg-blue-600 transition-colors",children:[(0,l.jsx)(p,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Save Comparison"})]}),s.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Saved Comparisons"}),s.map(e=>(0,l.jsx)("div",{className:"p-4 bg-white rounded-lg shadow",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.items.map(e=>e.name).join(" vs ")}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.date})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>v(e.items),className:"p-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition-colors",children:"Load"}),(0,l.jsx)("button",{onClick:()=>b(e.id),className:"p-2 bg-red-100 text-red-600 rounded hover:bg-red-200 transition-colors",children:(0,l.jsx)(f,{className:"w-4 h-4"})})]})]})},e.id))]})]}):null},g=s()(()=>Promise.resolve(y),{ssr:!1})},1956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let l=r(306)._(r(580));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,l.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=r(3719);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return r}},580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let l=r(5155),n=r(2115),a=r(9827),s=r(9214);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(i)),d=t.loading;function u(e){let i=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?n.Suspense:n.Fragment,c=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(r,{...e})]}):(0,l.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(r,{...e})});return(0,l.jsx)(u,{...o?{fallback:i}:{},children:c})}return u.displayName="LoadableComponent",u}},9214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let l=r(5155),n=r(7650),a=r(5861),s=r(8284);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=a.workAsyncStorage.getStore();if(void 0===r)return null;let i=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;i.push(...t)}}return 0===i.length?null:(0,l.jsx)(l.Fragment,{children:i.map(e=>{let t=r.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(6521)),_N_E=e.O()}]);